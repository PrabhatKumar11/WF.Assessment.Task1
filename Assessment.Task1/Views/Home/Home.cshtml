@model IEnumerable<Assessment.Task1.Models.EmployeeModel>

@{

}

<div class="text-center">
    <h1 class="display-4">Welcome @ViewData["Username"]</h1>
    <hr />

    <form method="post" asp-controller="FileUpload" asp-action="Upload" enctype="multipart/form-data">

        <input type="file" name="postedFile" />
        <input type="submit" value="Upload" />
    </form>

    @if (Model.Count() > 0)
    {
        <hr />
        <table cellpadding="5" cellspacing="5">
            <tr>
                <th>Employee Id</th>
                <th>Name</th>
                <th>Country</th>
            </tr>
            @foreach (var employee in Model)
            {
                <tr>
                    <td>@employee.EmployeeId</td>
                    <td>@employee.Name</td>
                    <td>@employee.Country</td>
                </tr>
            }

        </table>

        <br />
        <br />
        <form method="post" asp-controller="FileDownload" asp-action="GetCsv">
            <input type="submit" id="btnSubmit" value="Download" />
        </form>
    }

</div>
